<html>
    <head>
        <link href='https://fonts.googleapis.com/css?family=Tajawal' rel='stylesheet'>
        {% load static %}
        <link rel="stylesheet" href="{% static 'css\components\header.css' %}">
        <link rel="stylesheet" href="{% static 'css\global.css' %}">
        <link rel="icon" href="https://pa.tedcdn.com/favicon.ico">

    </head>
<body>
    <nav class="header">
        <a href="/"><img id="logo" src="/static/images/logo/logo-black.png"></a>
        <a href="/register"><div class="header button" id="register-button">Reserve</div></a>
        <div class="large-screen">
            <a href="https://www.tedx.com/"><div class="header button" id="about">About TEDx</div></a>
            <a href="/team"><div class="header button" id="team">Team</div></a>
            <a href="/sponsers"><div class="header button" id="sponsers">Partners</div></a>
        </div>

        <div class="medium-screen">
            <div class="dropdown">
                <input type="image" onclick="showDropdown()" class="dropbtn" id="dropdown-image" src="/static/images/common/dropdown.png"></button>
                <div id="myDropdown" class="dropdown-content">
                <a href="/team">Team</a>
                <a href="/about">About TEDx</a>
                <a href="/sponsers">Partners</a>
                </div>
            </div>
        </div>
    </nav>

    <script>
        
        // Add register button when screen is small
        function addRegister(screen_size) {
            console.log(screen_size);
            if (screen_size.matches) {
                var dropdowns = document.getElementsByClassName("dropdown-content")[0];

                var node = document.createElement("a");
                node.style.color = "#eb0028";
                node.href = "/register";   

                var text = document.createTextNode("الحجز");
                node.appendChild(text);

                dropdowns.insertBefore(node, dropdowns.firstChild);
            }
        }
        var screen_size = window.matchMedia("(max-width: 465px)");

        addRegister(screen_size);
        screen_size.addListener(addRegister);


        function showDropdown() {
            document.getElementById("myDropdown").classList.toggle("show");
        }   
        window.onclick = function(event) {
        if (!event.target.matches('.dropbtn')) {
            var dropdowns = document.getElementsByClassName("dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
                var openDropdown = dropdowns[i];
                if (openDropdown.classList.contains('show')) {
                    openDropdown.classList.remove('show');
                    }
                }
            }   
        }

        function highlightPath() {
            var path_name = window.location.pathname;
            var current_page = document.getElementById(window.location.pathname.substring(1,))
            current_page.style.color = '#eb0028';
        }
        highlightPath();

    </script>
</body>
</html>

